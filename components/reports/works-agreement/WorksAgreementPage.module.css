/* ── Page shell ────────────────────────────────────────────────────────────── */
.page {
  max-width: 860px;
  margin: 0 auto;
  padding: 0 1.5rem 3rem;
}

/* ── Top bar (back + actions) ─────────────────────────────────────────────── */
.topBar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.25rem 0 1rem;
  gap: 1rem;
}

.backBtn {
  background: none;
  border: none;
  font-size: 0.875rem;
  color: var(--for-medium, #7e807f);
  cursor: pointer;
  padding: 0;
  display: flex;
  align-items: center;
  gap: 0.25rem;
  transition: color 0.15s;
}

.backBtn:hover {
  color: var(--for-darkest, #111827);
}

/* ── Page header ─────────────────────────────────────────────────────────── */
.pageHeader {
  margin-bottom: 1.25rem;
}

.pageTitle {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--for-darkest, #111827);
  margin: 0 0 0.25rem;
}

.pageSub {
  font-size: 0.875rem;
  color: var(--for-medium, #7e807f);
  margin: 0;
}

/* ── Info banner ──────────────────────────────────────────────────────────── */
.infoBanner {
  display: flex;
  align-items: flex-start;
  gap: 0.625rem;
  padding: 0.875rem 1rem;
  background: var(--primary-100, #e6faea);
  border: 1px solid var(--primary-200, #b4eec0);
  border-radius: 8px;
  font-size: 0.825rem;
  color: var(--primary-500, #123319);
  margin-bottom: 1.5rem;
  line-height: 1.55;
}

.infoBanner svg {
  flex-shrink: 0;
  margin-top: 1px;
}

.webhookUrl {
  display: inline-block;
  margin-left: 0.4rem;
  font-family: monospace;
  font-size: 0.775rem;
  color: var(--primary-500, #123319);
  background: var(--primary-200, #b4eec0);
  border-radius: 4px;
  padding: 1px 6px;
  text-decoration: none;
}

/* ── Empty state ──────────────────────────────────────────────────────────── */
.emptyState {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.875rem;
  padding: 4rem 2rem;
  text-align: center;
}

.emptyIcon {
  width: 64px;
  height: 64px;
  border-radius: 16px;
  background: var(--con-light, #fafafa);
  border: 1px solid var(--out-light, #f5f5f5);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--for-light, #9ca3af);
}

.emptyTitle {
  font-size: 1rem;
  font-weight: 600;
  color: var(--for-darkest, #111827);
  margin: 0;
}

.emptyText {
  font-size: 0.875rem;
  color: var(--for-medium, #7e807f);
  max-width: 380px;
  line-height: 1.6;
  margin: 0;
}

/* ── Agreement list ───────────────────────────────────────────────────────── */
.agreementList {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.agreementCard {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  padding: 1rem 1.25rem;
  background: var(--white, #fff);
  border: 1px solid var(--out-light, #f5f5f5);
  border-radius: 10px;
  cursor: pointer;
  text-align: left;
  width: 100%;
  transition:
    border-color 0.15s,
    box-shadow 0.15s,
    transform 0.12s;
}

.agreementCard:hover {
  border-color: var(--primary-400, #74db89);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
  transform: translateY(-1px);
}

.cardLeft {
  display: flex;
  align-items: center;
  gap: 0.875rem;
  flex: 1;
  min-width: 0;
}

.cardIcon {
  width: 40px;
  height: 40px;
  border-radius: 9px;
  background: var(--primary-100, #e6faea);
  border: 1px solid var(--primary-200, #b4eec0);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--primary-500, #123319);
  flex-shrink: 0;
}

.cardInfo {
  min-width: 0;
}

.cardTitle {
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--for-darkest, #111827);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.cardMeta {
  font-size: 0.8rem;
  color: var(--for-medium, #7e807f);
  margin-top: 0.15rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.cardRight {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex-shrink: 0;
}

.cardTotal {
  font-size: 0.95rem;
  font-weight: 700;
  color: var(--for-darkest, #111827);
}

.cardBadges {
  display: flex;
  gap: 0.4rem;
  align-items: center;
}

.cardDate {
  font-size: 0.8rem;
  color: var(--for-light, #9ca3af);
  white-space: nowrap;
}

/* ── Badges ───────────────────────────────────────────────────────────────── */
.badge {
  display: inline-flex;
  align-items: center;
  font-size: 0.68rem;
  font-weight: 600;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  border-radius: 4px;
  padding: 2px 8px;
}

.badge_draft {
  background: var(--con-light, #fafafa);
  border: 1px solid var(--out-medium, #d9dbdb);
  color: var(--for-medium, #7e807f);
}

.badge_sent {
  background: #eff6ff;
  border: 1px solid #bfdbfe;
  color: #1d4ed8;
}

.badge_accepted {
  background: var(--primary-100, #e6faea);
  border: 1px solid var(--primary-200, #b4eec0);
  color: var(--primary-500, #123319);
}

.trigger {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  font-size: 0.68rem;
  font-weight: 600;
  border-radius: 4px;
  padding: 2px 7px;
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.triggerAuto {
  background: #fef3c7;
  border: 1px solid #fde68a;
  color: #92400e;
}

.triggerManual {
  background: var(--con-light, #fafafa);
  border: 1px solid var(--out-light, #f5f5f5);
  color: var(--for-medium, #7e807f);
}

/* ── Create form ──────────────────────────────────────────────────────────── */
.createForm {
  background: var(--white, #fff);
  border: 1px solid var(--out-light, #f5f5f5);
  border-radius: 12px;
  padding: 1.75rem;
}

.createFormHeader {
  margin-bottom: 1.5rem;
}

.createFormTitle {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--for-darkest, #111827);
  margin: 0 0 0.25rem;
}

.createFormSub {
  font-size: 0.875rem;
  color: var(--for-medium, #7e807f);
  margin: 0;
}

.fieldGrid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem 1.25rem;
}

.fieldRow {
  display: flex;
  flex-direction: column;
  gap: 0.375rem;
}

.fieldRowFull {
  grid-column: 1 / -1;
}

.fieldLabel {
  font-size: 0.8rem;
  font-weight: 500;
  color: var(--for-dark, #374151);
}

.fieldInput,
.fieldTextarea {
  padding: 0.625rem 0.875rem;
  border: 1px solid var(--out-medium, #d9dbdb);
  border-radius: 8px;
  font-size: 0.875rem;
  color: var(--for-darkest, #111827);
  background: var(--white, #fff);
  outline: none;
  font-family: inherit;
  transition: border-color 0.15s;
  width: 100%;
}

.fieldInput:focus,
.fieldTextarea:focus {
  border-color: var(--primary-400, #74db89);
}

.fieldTextarea {
  resize: vertical;
}

.formError {
  color: var(--red-wine-300, #900c40);
  font-size: 0.825rem;
  margin-top: 0.75rem;
}

.formActions {
  display: flex;
  justify-content: flex-end;
  gap: 0.75rem;
  margin-top: 1.5rem;
  padding-top: 1.25rem;
  border-top: 1px solid var(--out-light, #f5f5f5);
}

/* ── Editor ───────────────────────────────────────────────────────────────── */
.editor {
  max-width: 860px;
  margin: 0 auto;
  padding: 0 1.5rem 3rem;
}

.editorTopBar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.25rem 0 1rem;
  gap: 1rem;
}

.editorTopRight {
  display: flex;
  align-items: center;
  gap: 0.625rem;
}

.editorHeader {
  margin-bottom: 1.75rem;
}

.editorTitle {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--for-darkest, #111827);
  margin: 0 0 0.25rem;
}

.editorSub {
  font-size: 0.875rem;
  color: var(--for-medium, #7e807f);
  margin: 0;
}

.sections {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.section {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.sectionLabel {
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--for-light, #9ca3af);
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--out-light, #f5f5f5);
}

.sectionCard {
  background: var(--white, #fff);
  border: 1px solid var(--out-light, #f5f5f5);
  border-radius: 10px;
  padding: 1.5rem;
}

/* Detail grid */
.detailGrid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem 1.25rem;
}

.detailRow {
  display: flex;
  flex-direction: column;
  gap: 0.375rem;
}

.detailRowFull {
  grid-column: 1 / -1;
}

.detailLabel {
  font-size: 0.78rem;
  font-weight: 600;
  color: var(--for-medium, #7e807f);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.detailInput,
.detailTextarea {
  padding: 0.5rem 0.75rem;
  border: 1px solid var(--out-medium, #d9dbdb);
  border-radius: 7px;
  font-size: 0.875rem;
  color: var(--for-darkest, #111827);
  background: var(--white, #fff);
  outline: none;
  font-family: inherit;
  transition: border-color 0.15s;
  width: 100%;
}

.detailInput:focus,
.detailTextarea:focus {
  border-color: var(--primary-400, #74db89);
}
.detailTextarea {
  resize: vertical;
}

/* Total row */
.totalRow {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1.25rem;
  padding-bottom: 1.25rem;
  border-bottom: 1px solid var(--out-light, #f5f5f5);
}

.totalLabel {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--for-dark, #374151);
  flex-shrink: 0;
}

.totalInputWrap {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.totalPrefix {
  font-size: 1rem;
  font-weight: 700;
  color: var(--for-dark, #374151);
}

.totalInput {
  padding: 0.5rem 0.75rem;
  border: 1px solid var(--out-medium, #d9dbdb);
  border-radius: 7px;
  font-size: 1rem;
  font-weight: 700;
  color: var(--for-darkest, #111827);
  width: 160px;
  outline: none;
  transition: border-color 0.15s;
}

.totalInput:focus {
  border-color: var(--primary-400, #74db89);
}

.totalHint {
  font-size: 0.775rem;
  color: var(--for-light, #9ca3af);
  background: var(--con-light, #fafafa);
  border: 1px solid var(--out-light, #f5f5f5);
  border-radius: 4px;
  padding: 2px 8px;
}

.mismatchWarning {
  font-size: 0.8rem;
  color: #92400e;
  background: #fef3c7;
  border: 1px solid #fde68a;
  border-radius: 6px;
  padding: 0.5rem 0.75rem;
  margin-bottom: 1rem;
}

/* Payment table */
.paymentTable {
  display: flex;
  flex-direction: column;
  gap: 0;
  border: 1px solid var(--out-light, #f5f5f5);
  border-radius: 8px;
  overflow: hidden;
}

.paymentHeader {
  display: grid;
  grid-template-columns: 100px 70px 120px 1fr;
  padding: 0.5rem 0.875rem;
  background: var(--con-light, #fafafa);
  border-bottom: 1px solid var(--out-light, #f5f5f5);
}

.paymentHeaderCell {
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.07em;
  text-transform: uppercase;
  color: var(--for-light, #9ca3af);
}

.paymentHeaderDesc {
  color: var(--for-light, #9ca3af);
}

.paymentRow {
  display: grid;
  grid-template-columns: 100px 70px 120px 1fr;
  align-items: center;
  padding: 0.5rem 0.875rem;
  border-bottom: 1px solid var(--out-light, #f5f5f5);
  gap: 0.5rem;
  transition: background 0.1s;
}

.paymentRow:last-child {
  border-bottom: none;
}
.paymentRow:hover {
  background: var(--con-light, #fafafa);
}

.paymentTotalRow {
  background: var(--con-light, #fafafa);
  border-top: 1px solid var(--out-medium, #d9dbdb);
  font-weight: 700;
}

.paymentTotalRow:hover {
  background: var(--con-light, #fafafa);
}

.paymentLabel {
  font-size: 0.825rem;
  font-weight: 500;
  color: var(--for-dark, #374151);
}

.paymentPct {
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

.paymentPctInput {
  width: 42px;
  padding: 0.3rem 0.4rem;
  border: 1px solid var(--out-medium, #d9dbdb);
  border-radius: 5px;
  font-size: 0.825rem;
  font-family: inherit;
  text-align: right;
  outline: none;
  color: var(--for-darkest, #111827);
}

.paymentPctInput:focus {
  border-color: var(--primary-400, #74db89);
}

.paymentPctSymbol {
  font-size: 0.8rem;
  color: var(--for-medium, #7e807f);
}

.paymentValue {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--for-darkest, #111827);
}

.paymentValueMismatch {
  color: #b45309;
}

.paymentDesc {
  font-size: 0.825rem;
  color: var(--for-medium, #7e807f);
  padding: 0.3rem 0.5rem;
  border: 1px solid transparent;
  border-radius: 5px;
  outline: none;
  font-family: inherit;
  width: 100%;
  background: transparent;
  transition:
    border-color 0.15s,
    background 0.15s;
}

.paymentDesc:focus {
  border-color: var(--primary-400, #74db89);
  background: var(--white, #fff);
}

/* Status buttons */
.statusRow {
  display: flex;
  gap: 0.5rem;
}

.statusBtn {
  padding: 0.5rem 1.125rem;
  border: 1px solid var(--out-medium, #d9dbdb);
  border-radius: 7px;
  background: var(--white, #fff);
  font-size: 0.85rem;
  font-weight: 500;
  color: var(--for-dark, #374151);
  cursor: pointer;
  transition: all 0.15s;
}

.statusBtn:hover {
  border-color: var(--grey-500, #7e807f);
}

.statusBtnActive {
  background: var(--primary-100, #e6faea);
  border-color: var(--primary-400, #74db89);
  color: var(--primary-500, #123319);
  font-weight: 600;
}
